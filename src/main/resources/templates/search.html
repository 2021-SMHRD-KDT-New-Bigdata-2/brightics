<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
            crossorigin="anonymous"></script>
</head>

<body>

<script>
    function validate(data){
        var blank_pattern = /^\s+|\s+$/g;
        if( data.replace( blank_pattern, '' ) == "" ){
            return true;
        }
        else if(!data){
            return true;
        }
        else {
            return false;
        }
    }
    var result;
    var query;
    $(document).ready(function () {
        $.ajax({
            url: "http://localhost:8081/search",
            type: 'get',
            success: function (data) {
                console.log("성공")
                result = data
                console.log(result)
            },
            error: function (err) {
                console.log("실패")
            }
        });
        $("#query").keyup(function() {
            query=document.getElementById("query").value
            if(validate(query)){
                return;
            }
            console.log(validate(query))
            console.log(query)
            var newResult= result.filter(function (elem){
                return elem.code.includes(query)||elem.name.includes(query)||elem.description.includes(query)||elem.category.includes(query)||elem.candidate.name.includes(query);
                },
            )
            console.log(newResult)

        });
    });


</script>
<input type="text" id="query">
<button type="button" id="search">버튼</button>
</body>

</html>